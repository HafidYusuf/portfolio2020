/*!
 * mini-parallax v0.2.11
 * https://github.com/ko-yelie/mini-parallax#readme
 *
 * @license
 * Copyright (c) 2018 Ko.Yelie
 * Released under the MIT License.
 *
 * Dependencies
 * https://www.npmjs.com/package/get-elements-array
 */
var MiniParallax=function(t){"use strict";function e(){}var o=function(t,o){var n=this;void 0===o&&(o={});var i=o.onResize;void 0===i&&(i=e);var r=o.onScroll;void 0===r&&(r=e);var s=o.isRound;void 0===s&&(s=!1);var a,p=o.autoRun;void 0===p&&(p=!0),this._els=(a=t)?("string"==typeof a&&(a=document.querySelectorAll(a)),"length"in a&&a.nodeType!==Node.ELEMENT_NODE&&!function(t){return t.location&&t.document&&t.alert&&t.setInterval}(a)?Array.apply(null,a):[a]):[],this._onResize=i,this._onScroll=r,this._getTransformValueFuncName="_getTransformValue"+(s?"Round":""),this._scrollTarget=document.scrollingElement||document.documentElement,window.addEventListener("resize",function(){n.update(),n._onResize(n._windowHeight)}),window.addEventListener("load",function(){n.update()}),p&&this.run()};o.prototype.run=function(){var t=this;this._cache(),requestAnimationFrame(function(){t._tick()})},o.prototype.update=function(){this._cache(),this._update()},o.prototype._cache=function(){var t=this;this._windowHeight=window.innerHeight;var e=window.scrollY||window.pageYOffset;this._items=this._els.map(function(o){return o.style.transform="none",o.style.willChange="transform",t._cacheElementPos(o,e)}).filter(function(t){return t})},o.prototype._tick=function(){var t=this,e=this._scrollTarget.scrollTop;e!==this._scrollTop&&(this._scrollTop=e,this._update()),requestAnimationFrame(function(){t._tick()})},o.prototype._update=function(){var t=this;this._items.forEach(function(e){return t._updateElement(e)}),this._onScroll(this._scrollTop)},o.prototype._getTransformValue=function(t){return"translate3d(0, "+t+"px, 0)"},o.prototype._getTransformValueRound=function(t){return"translate3d(0, "+Math.round(t)+"px, 0)"};var n=function(t){function o(o,n){void 0===n&&(n={});var i=n.speed;void 0===i&&(i=.1);var r=n.speedSp;void 0===r&&(r=i);var s=n.isSP;void 0===s&&(s=e);var a=n.autoRun;void 0===a&&(a=!0),n.autoRun=!1,t.call(this,o,n),this._speedPc=i,this._speedSp=r,this._isSP=s,a&&this.run()}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype._cache=function(){this._isSpCurrent=this._isSP(),this._speed=this._isSpCurrent?this._speedSp:this._speedPc,this._speed*=window.innerWidth/window.innerHeight,t.prototype._cache.call(this)},o.prototype._cacheElementPos=function(t,e){if(!this._isSpCurrent||"false"!==t.dataset.sp){var o=t.getBoundingClientRect(),n=o.top+e;return{el:t,top:n,center:n+o.height/2,speed:parseFloat(t.dataset.speed,10)||this._speed,inPos:n-this._windowHeight,outPos:o.bottom+e}}},o.prototype._update=function(){this._centerViewport=this._scrollTop+this._windowHeight/2,t.prototype._update.call(this)},o.prototype._updateElement=function(t){if(this._scrollTop>t.outPos);else if(this._scrollTop>t.inPos){var e=(t.center-this._centerViewport)*t.speed;t.el.style.transform=this[this._getTransformValueFuncName](e)}},o}(o),i=function(t){function e(e,o){t.call(this,e,o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._cacheElementPos=function(t,e){var o=t.getBoundingClientRect(),n=t.parentNode.getBoundingClientRect(),i=n.top+e-this._windowHeight,r=n.bottom+e;return{el:t,max:n.height-o.height,inPos:i,outPos:r,distance:r-i,offset:n.top-o.top}},e.prototype._updateElement=function(t){if(this._scrollTop>t.outPos);else{var e=this._scrollTop-t.inPos;if(e>0){var o=e/t.distance,n=t.offset+t.max-t.max*o;t.el.style.transform=this[this._getTransformValueFuncName](n)}}},e}(o);return t.NormalParallax=n,t.BackgroundParallax=i,t}({});